<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mapa de Produtividade - Andaime</title>
<link rel="stylesheet" href="mapa_produtividade.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
<div class="wrap" id="dashboardWrap">
    <header>
        <h1>Mapa de Produtividade</h1>
        <div class="subtitle">Visualização da produtividade por setor</div>
    </header>

    <div id="filter-container">
        <label>Data Início: <input type="date" id="dataInicio" /></label>
        <label>Data Fim: <input type="date" id="dataFim" /></label>
        <button id="btnApplyFilter">Aplicar filtro</button>
        <button id="btnVoltarMenu">Voltar para o Menu</button>
    </div>

    <div class="grid linha1">
        <div class="card wide" id="mapCard">
            <div id="map" style="height:400px;"></div>
        </div>
    </div>

    <div class="grid linha2">
        <div class="card kpi" id="cardProdutividadeMedia">
            <div class="label">Produtividade Média</div>
            <div class="value" id="valorProdutividadeMedia">0</div>
        </div>
        <div class="card kpi" id="cardTopSetores">
            <div class="label">Top Setores</div>
            <div class="value" id="valorTopSetores">-</div>
        </div>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="mapa_produtividade.js"></script>

<script>
document.getElementById('btnVoltarMenu').addEventListener('click', () => {
    window.location.href = "../index.html"; // volta para o menu principal
});
</script>
</body>
</html>
